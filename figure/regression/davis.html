<!DOCTYPE html>
<html lang="zh-CN" style="height: 100%">

<head>
  <meta charset="utf-8">
</head>

<body style="height: 100%; margin: 0">
  <div id="container" style="height: 100%"></div>
  <script src="https://fastly.jsdelivr.net/npm/echarts@5.3.3/dist/echarts.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts-stat@1.2.0/dist/ecStat.min.js"></script>
  <script src="../../output/davis_coord.js"></script>
  <script>
    let dom = document.getElementById('container');
    const myChart = echarts.init(dom, null, {
      renderer: 'canvas',
      useDirtyRect: false
    });
    echarts.registerTransform(ecStat.transform.regression);

    const markLine = {
      animation: false,
      lineStyle: {
        type: 'dashed',
        color: '#5470c6',
        width: 3,
      },
      data: [
        [
          { coord: [4, 4], symbol: 'none' },
          { coord: [11, 11], symbol: 'none' }
        ]
      ],
    };
    const option = {
      dataset: [
        {
          source: [...data, [4,4], [11,11]]
        },
        {
          transform: {
            type: 'ecStat:regression'
          }
        }
      ],
      toolbox: {
        show: true,
        feature: {
          dataView: { readOnly: false },
          restore: {},
          saveAsImage: {}
        }
      },
      title: {
        text: "Davis",
        left: 'center',
        top: 0,
        textStyle: {
          fontSize: 36,
        }
      },
      xAxis: {
        // name: 'True values of DTA',
        name: '结合亲和力真实值',
        nameLocation: 'center',
        nameTextStyle: {
          fontSize: 36,
        },
        nameGap: 30,
        axisLabel: {
          fontSize: 24,
        },
        min: 4, max: 11
      },
      yAxis: {
        // name: 'Predictive values of DTA',
        name: '结合亲和力预测值',
        nameLocation: 'center',
        nameTextStyle: {
          fontSize: 36,
        },
        nameGap: 30,
        axisLabel: {
          fontSize: 24,
        },
        min: 4, max: 11
      },
      series: [
        {
          name: 'I',
          type: 'scatter',
          data,
          markLine,
        },
        {
          name: 'line',
          type: 'line',
          datasetIndex: 1,
          symbolSize: 0.1,
          symbol: 'circle',
          lineStyle: {
            color: 'red',
            width: 3,
          }
        }
      ],
      color: ['#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc']
    };

    myChart.setOption(option);
    window.addEventListener('resize', myChart.resize);
  </script>
</body>

</html>